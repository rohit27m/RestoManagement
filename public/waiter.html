<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Waiter Dashboard</title>
  <link rel="stylesheet" href="styles.css">
</head>
<body>
  <div class="dashboard">
    <header>
      <h1>üçΩÔ∏è Waiter Dashboard</h1>
      <div class="user-info">
        <span id="username"></span>
        <button onclick="logout()" class="btn btn-secondary">Logout</button>
      </div>
    </header>

    <div class="tabs">
      <button class="tab-btn active" onclick="showTab('tables')">Tables</button>
      <button class="tab-btn" onclick="showTab('orders')">Orders</button>
      <button class="tab-btn" onclick="showTab('menu')">Menu Management</button>
      <button class="tab-btn" onclick="showTab('settings')">Settings</button>
    </div>

    <!-- TABLES TAB -->
    <div id="tables-tab" class="tab-content active">
      <h2>Table Status</h2>
      <div id="tables-grid" class="tables-grid"></div>
    </div>

    <!-- ORDERS TAB -->
    <div id="orders-tab" class="tab-content">
      <h2>Active Orders</h2>
      <div id="orders-list"></div>
    </div>

    <!-- MENU TAB -->
    <div id="menu-tab" class="tab-content">
      <h2>Menu Management</h2>
      <button onclick="showAddMenuItem()" class="btn btn-primary">Add Menu Item</button>
      <div id="menu-list" class="menu-list"></div>
    </div>

    <!-- SETTINGS TAB -->
    <div id="settings-tab" class="tab-content">
      <h2>Restaurant Settings</h2>
      <form id="restaurantForm" class="form">
        <div class="form-group">
          <label>Restaurant Name</label>
          <input type="text" id="restaurantName" required>
        </div>
        <div class="form-group">
          <label>Address</label>
          <input type="text" id="restaurantAddress">
        </div>
        <div class="form-group">
          <label>Phone</label>
          <input type="text" id="restaurantPhone">
        </div>
        <div class="form-group">
          <label>Tax Rate (%)</label>
          <input type="number" id="taxRate" step="0.1" min="0">
        </div>
        <button type="submit" class="btn btn-primary">Save Settings</button>
      </form>
    </div>
  </div>

  <!-- NEW ORDER MODAL -->
  <div id="orderModal" class="modal">
    <div class="modal-content">
      <span class="close" onclick="closeOrderModal()">&times;</span>
      <h2>New Order - Table <span id="orderTableNumber"></span></h2>
      
      <div id="menuItems" class="menu-items"></div>
      
      <h3>Order Items</h3>
      <div id="orderItems"></div>
      <div class="order-total">
        <strong>Total: ‚Çπ<span id="orderTotal">0.00</span></strong>
      </div>
      
      <button onclick="submitOrder()" class="btn btn-primary btn-large">Place Order</button>
    </div>
  </div>

  <!-- BILL MODAL -->
  <div id="billModal" class="modal">
    <div class="modal-content">
      <span class="close" onclick="closeBillModal()">&times;</span>
      <div id="billContent"></div>
      <button onclick="window.print()" class="btn btn-primary">Print Bill</button>
      <button onclick="processPayment()" class="btn btn-success">üí≥ Process Payment</button>
    </div>
  </div>

  <!-- PAYMENT MODAL -->
  <div id="paymentModal" class="modal">
    <div class="modal-content large">
      <span class="close" onclick="closePaymentModal()">&times;</span>
      <h2>Process Payment</h2>
      
      <div id="paymentSummary" class="payment-summary-container"></div>
      
      <!-- Tip Section -->
      <div class="payment-section">
        <h3>Add Tip (Optional)</h3>
        <div class="tip-buttons">
          <button onclick="setTipPercentage(0)" class="btn btn-sm">0%</button>
          <button onclick="setTipPercentage(5)" class="btn btn-sm">5%</button>
          <button onclick="setTipPercentage(10)" class="btn btn-sm">10%</button>
          <button onclick="setTipPercentage(15)" class="btn btn-sm">15%</button>
          <button onclick="setTipPercentage(20)" class="btn btn-sm">20%</button>
        </div>
        <div class="form-group">
          <label>Custom Tip Amount</label>
          <input type="number" id="customTip" placeholder="Enter custom amount" onchange="setCustomTip()" step="0.01" min="0">
        </div>
      </div>
      
      <!-- Payment Method -->
      <div class="payment-section">
        <h3>Payment Method</h3>
        <select id="paymentMethod" onchange="changePaymentMethod()" class="form-control">
          <option value="cash">üíµ Cash</option>
          <option value="card">üí≥ Card</option>
          <option value="upi">üì± UPI</option>
          <option value="wallet">üëõ Wallet</option>
        </select>
      </div>
      
      <!-- Card Details -->
      <div id="cardDetails" class="payment-details" style="display: none;">
        <div class="form-group">
          <label>Card Number</label>
          <input type="text" id="cardNumber" placeholder="1234 5678 9012 3456" maxlength="19">
        </div>
        <div class="form-row">
          <div class="form-group">
            <label>Expiry (MM/YY)</label>
            <input type="text" id="cardExpiry" placeholder="12/25" maxlength="5">
          </div>
          <div class="form-group">
            <label>CVV</label>
            <input type="text" id="cardCVV" placeholder="123" maxlength="4">
          </div>
        </div>
      </div>
      
      <!-- UPI Details -->
      <div id="upiDetails" class="payment-details" style="display: none;">
        <div class="form-group">
          <label>UPI ID</label>
          <input type="text" id="upiId" placeholder="example@upi">
        </div>
      </div>
      
      <!-- Wallet Details -->
      <div id="walletDetails" class="payment-details" style="display: none;">
        <div class="form-group">
          <label>Select Wallet</label>
          <select id="walletProvider" class="form-control">
            <option value="paytm">Paytm</option>
            <option value="phonepe">PhonePe</option>
            <option value="googlepay">Google Pay</option>
            <option value="amazonpay">Amazon Pay</option>
          </select>
        </div>
      </div>
      
      <!-- Customer Details -->
      <div class="payment-section">
        <h3>Customer Details (Optional)</h3>
        <div class="form-group">
          <label>Customer Name</label>
          <input type="text" id="customerName" placeholder="Enter customer name">
        </div>
        <div class="form-group">
          <label>Email for Digital Receipt</label>
          <input type="email" id="customerEmail" placeholder="customer@example.com">
        </div>
      </div>
      
      <button id="submitPaymentBtn" onclick="submitPayment()" class="btn btn-success btn-large">Submit Payment</button>
    </div>
  </div>

  <!-- ADD MENU ITEM MODAL -->
  <div id="menuModal" class="modal">
    <div class="modal-content">
      <span class="close" onclick="closeMenuModal()">&times;</span>
      <h2>Add Menu Item</h2>
      <form id="menuItemForm">
        <div class="form-group">
          <label>Item Name</label>
          <input type="text" id="itemName" required>
        </div>
        <div class="form-group">
          <label>Category</label>
          <input type="text" id="itemCategory" placeholder="e.g., Starters, Main Course, Desserts">
        </div>
        <div class="form-group">
          <label>Half Price (optional)</label>
          <input type="number" id="halfPrice" step="0.01" min="0">
        </div>
        <div class="form-group">
          <label>Full Price</label>
          <input type="number" id="fullPrice" step="0.01" min="0" required>
        </div>
        <button type="submit" class="btn btn-primary">Add Item</button>
      </form>
    </div>
  </div>

  <script src="waiter.js"></script>
</body>
</html>
